"use strict";(self.webpackChunktypegoose_website=self.webpackChunktypegoose_website||[]).push([[5155],{2551:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>a,contentTitle:()=>d,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"guides/migration/migrate-8","title":"Migrate to 8.0.0","description":"These are the changes made for 8.0.0 that are breaking or just important to know","source":"@site/../docs/guides/migration/migrate-8.md","sourceDirName":"guides/migration","slug":"/guides/migration/migrate-8","permalink":"/typegoose/versions/beta/docs/guides/migration/migrate-8","draft":false,"unlisted":false,"editUrl":"https://github.com/typegoose/typegoose/edit/beta/docs/../docs/guides/migration/migrate-8.md","tags":[],"version":"current","frontMatter":{"id":"migrate-8","title":"Migrate to 8.0.0"},"sidebar":"guides","previous":{"title":"Migrate to 9.0.0","permalink":"/typegoose/versions/beta/docs/guides/migration/migrate-9"},"next":{"title":"Migrate to 7.0.0","permalink":"/typegoose/versions/beta/docs/guides/migration/migrate-7"}}');var r=n(4848),i=n(8453);const t={id:"migrate-8",title:"Migrate to 8.0.0"},d=void 0,a={},c=[{value:"Requirements changed",id:"requirements-changed",level:2},{value:"Deprecation removals",id:"deprecation-removals",level:2},{value:"Deprecated Options removed",id:"deprecated-options-removed",level:3},{value:"Deprecated Decorators removed",id:"deprecated-decorators-removed",level:3},{value:"Mongoose Version above 5.13 is now supported",id:"mongoose-version-above-513-is-now-supported",level:2},{value:"Default Class &quot;Base&quot; is now an interface instead of an class",id:"default-class-base-is-now-an-interface-instead-of-an-class",level:2},{value:"&quot;ref&quot; and &quot;refPath&quot; now use &quot;mapArrayOptions&quot;",id:"ref-and-refpath-now-use-maparrayoptions",level:2}];function l(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.p,{children:"These are the changes made for 8.0.0 that are breaking or just important to know"}),"\n",(0,r.jsx)(o.admonition,{title:"Important, Read this first",type:"warning",children:(0,r.jsxs)(o.p,{children:["This Guide is written for migration from version ",(0,r.jsx)(o.code,{children:"7.6.3"})," to ",(0,r.jsx)(o.code,{children:"8.0.0"}),", for versions ",(0,r.jsx)(o.code,{children:">8.0.0 <9.0.0"}),", please consult the ",(0,r.jsx)(o.a,{href:"https://github.com/typegoose/typegoose/blob/master/CHANGELOG.md",children:"CHANGELOG"})]})}),"\n",(0,r.jsx)(o.h2,{id:"requirements-changed",children:"Requirements changed"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["Nodejs ",(0,r.jsx)(o.code,{children:"10"})," & ",(0,r.jsx)(o.code,{children:"11"})," are now unsupported, lowest supported version is now ",(0,r.jsx)(o.code,{children:"12.22"})]}),"\n",(0,r.jsxs)(o.li,{children:["Typescript ",(0,r.jsx)(o.code,{children:"4.3"})," is now suggested to be used"]}),"\n",(0,r.jsxs)(o.li,{children:["Mongoose ",(0,r.jsx)(o.code,{children:"5.13.3"})," or ",(0,r.jsx)(o.a,{href:"#mongoose-version-above-513-is-now-supported",children:"higher is now required"})]}),"\n"]}),"\n",(0,r.jsx)(o.h2,{id:"deprecation-removals",children:"Deprecation removals"}),"\n",(0,r.jsx)(o.h3,{id:"deprecated-options-removed",children:"Deprecated Options removed"}),"\n",(0,r.jsx)(o.p,{children:"The following options removed:"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"items"})," replaced with just ",(0,r.jsx)(o.code,{children:"type"})]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"of"})," replaced with just ",(0,r.jsx)(o.code,{children:"type"})]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"refType"})," replaced with just ",(0,r.jsx)(o.code,{children:"type"})]}),"\n"]}),"\n",(0,r.jsx)(o.h3,{id:"deprecated-decorators-removed",children:"Deprecated Decorators removed"}),"\n",(0,r.jsxs)(o.p,{children:["The following decorator functions got removed, and replaced with an second parameter to ",(0,r.jsx)(o.code,{children:"prop"}),":"]}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:(0,r.jsx)(o.code,{children:"mapProp"})}),"\n",(0,r.jsx)(o.li,{children:(0,r.jsx)(o.code,{children:"arrayProp"})}),"\n"]}),"\n",(0,r.jsx)(o.admonition,{type:"info",children:(0,r.jsxs)(o.p,{children:[(0,r.jsx)(o.code,{children:"@prop"})," can since 7.x be forced into an specific mode with an second parameter: ",(0,r.jsx)(o.code,{children:"@prop({}, PropType.ARRAY)"})," ",(0,r.jsxs)(o.a,{href:"/typegoose/versions/beta/docs/api/decorators/prop#proptype",children:["Look here for an example for ",(0,r.jsx)(o.code,{children:"PropType"})]})]})}),"\n",(0,r.jsx)(o.h2,{id:"mongoose-version-above-513-is-now-supported",children:"Mongoose Version above 5.13 is now supported"}),"\n",(0,r.jsxs)(o.p,{children:["Since mongoose version ",(0,r.jsx)(o.code,{children:"5.10.19"})," (yes an patch version), mongoose has official typescript types, but often broke from ",(0,r.jsx)(o.code,{children:"5.10.19"})," to ",(0,r.jsx)(o.code,{children:"5.12.9"})]}),"\n",(0,r.jsx)(o.admonition,{type:"danger",children:(0,r.jsxs)(o.p,{children:["Because mongoose now provides its own official typescript types, this means that ",(0,r.jsx)(o.code,{children:"@types/mongoose"})," is incompatible now (and plugins which still use it cannot be used)"]})}),"\n",(0,r.jsx)(o.h2,{id:"default-class-base-is-now-an-interface-instead-of-an-class",children:'Default Class "Base" is now an interface instead of an class'}),"\n",(0,r.jsxs)(o.p,{children:["For 8.0.0 the default Class ",(0,r.jsx)(o.code,{children:"Base"})," got converted into an interface instead of an class (to have typings even when extending another class)"]}),"\n",(0,r.jsx)(o.h2,{id:"ref-and-refpath-now-use-maparrayoptions",children:'"ref" and "refPath" now use "mapArrayOptions"'}),"\n",(0,r.jsxs)(o.p,{children:["For ",(0,r.jsx)(o.code,{children:"ref"})," and ",(0,r.jsx)(o.code,{children:"refPath"})," the options should now be mapped when using reference arrays"]})]})}function p(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>t,x:()=>d});var s=n(6540);const r={},i=s.createContext(r);function t(e){const o=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(i.Provider,{value:o},e.children)}}}]);