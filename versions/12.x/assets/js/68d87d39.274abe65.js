"use strict";(self.webpackChunktypegoose_website=self.webpackChunktypegoose_website||[]).push([[84],{3740:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"guides/migration/migrate-7","title":"Migrate to 7.0.0","description":"These are the changes made for 7.0.0 that are breaking or just important to know","source":"@site/../docs/guides/migration/migrate-7.md","sourceDirName":"guides/migration","slug":"/guides/migration/migrate-7","permalink":"/typegoose/versions/12.x/docs/guides/migration/migrate-7","draft":false,"unlisted":false,"editUrl":"https://github.com/typegoose/typegoose/edit/old/12.x/docs/../docs/guides/migration/migrate-7.md","tags":[],"version":"current","frontMatter":{"id":"migrate-7","title":"Migrate to 7.0.0"},"sidebar":"guides","previous":{"title":"Migrate to 8.0.0","permalink":"/typegoose/versions/12.x/docs/guides/migration/migrate-8"},"next":{"title":"Migrate to 6.0.0","permalink":"/typegoose/versions/12.x/docs/guides/migration/migrate-6"}}');var i=t(4848),n=t(8453);const r={id:"migrate-7",title:"Migrate to 7.0.0"},c=void 0,a={},d=[{value:"Requirements changed",id:"requirements-changed",level:2},{value:"Deprecation removals",id:"deprecation-removals",level:2},{value:"arrayProp options removed",id:"arrayprop-options-removed",level:3},{value:"Typegoose class got removed",id:"typegoose-class-got-removed",level:3},{value:"[IC] all remaining cache-maps got moved to reflection",id:"ic-all-remaining-cache-maps-got-moved-to-reflection",level:2},{value:"[IC] almost all &quot;if-throw&quot; blocks got replaced with &quot;assertion&quot; functions",id:"ic-almost-all-if-throw-blocks-got-replaced-with-assertion-functions",level:2},{value:"[IC] The Testing Framework for Typegoose changed to Jest",id:"ic-the-testing-framework-for-typegoose-changed-to-jest",level:2}];function l(e){const o={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.p,{children:"These are the changes made for 7.0.0 that are breaking or just important to know"}),"\n",(0,i.jsx)(o.admonition,{title:"Important, Read this first",type:"warning",children:(0,i.jsxs)(o.p,{children:["This Guide is written for migration from version ",(0,i.jsx)(o.code,{children:"6.5.0"})," to ",(0,i.jsx)(o.code,{children:"7.0.0"}),", for versions ",(0,i.jsx)(o.code,{children:">7.0.0 <8.0.0"}),", please consult the ",(0,i.jsx)(o.a,{href:"https://github.com/typegoose/typegoose/blob/master/CHANGELOG.md",children:"CHANGELOG"})]})}),"\n",(0,i.jsx)(o.h2,{id:"requirements-changed",children:"Requirements changed"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["Nodejs 8 & 9 are now unsupported, lowest supported version is now ",(0,i.jsx)(o.code,{children:"10.15"})]}),"\n",(0,i.jsxs)(o.li,{children:["Typescript ",(0,i.jsx)(o.code,{children:"3.8"})," is now required (",(0,i.jsx)(o.code,{children:"4.9"})," is recommended)"]}),"\n",(0,i.jsxs)(o.li,{children:["Mongoose ",(0,i.jsx)(o.code,{children:"5.9.10"})," or higher is now required"]}),"\n"]}),"\n",(0,i.jsx)(o.h2,{id:"deprecation-removals",children:"Deprecation removals"}),"\n",(0,i.jsx)(o.h3,{id:"arrayprop-options-removed",children:"arrayProp options removed"}),"\n",(0,i.jsx)(o.p,{children:"The following options got removed:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"itemsRef"})," got replaced with just ",(0,i.jsx)(o.code,{children:"ref"})]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"itemsRefPath"})," got replaced with just ",(0,i.jsx)(o.code,{children:"refPath"})]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"itemsRefType"})," got replaced with just ",(0,i.jsx)(o.code,{children:"refType"})]}),"\n"]}),"\n",(0,i.jsx)(o.h3,{id:"typegoose-class-got-removed",children:"Typegoose class got removed"}),"\n",(0,i.jsxs)(o.p,{children:["In 6.0.0 it was announced that the ",(0,i.jsx)(o.code,{children:"Typegoose"})," class was useless and will be removed in a future version. Now, in 7.0.0, it was completely removed."]}),"\n",(0,i.jsx)(o.h2,{id:"ic-all-remaining-cache-maps-got-moved-to-reflection",children:"[IC] all remaining cache-maps got moved to reflection"}),"\n",(0,i.jsxs)(o.p,{children:["All possible cache-maps that were in ",(0,i.jsx)(o.code,{children:"data.ts"})," were refactored to be in the reflection of the class."]}),"\n",(0,i.jsx)(o.h2,{id:"ic-almost-all-if-throw-blocks-got-replaced-with-assertion-functions",children:'[IC] almost all "if-throw" blocks got replaced with "assertion" functions'}),"\n",(0,i.jsxs)(o.p,{children:["Typescript 3.7 introduced a new type-keyword ",(0,i.jsx)(o.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-3-7/#assertion-functions",children:(0,i.jsx)(o.code,{children:"asserts"})})," and now almost every occurrence has been replaced with a custom assertion function."]}),"\n",(0,i.jsx)(o.h2,{id:"ic-the-testing-framework-for-typegoose-changed-to-jest",children:"[IC] The Testing Framework for Typegoose changed to Jest"}),"\n",(0,i.jsxs)(o.p,{children:["For Typegoose 7.0.0, the Testing Framework change from ",(0,i.jsx)(o.code,{children:"mocha + chai"})," to ",(0,i.jsx)(o.code,{children:"jest"})]}),"\n",(0,i.jsx)(o.hr,{}),"\n",(0,i.jsx)("sub",{children:(0,i.jsxs)(o.em,{children:[(0,i.jsx)(o.code,{children:"IC"})," means ",(0,i.jsx)(o.code,{children:"Internal Change"})]})})]})}function h(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,o,t)=>{t.d(o,{R:()=>r,x:()=>c});var s=t(6540);const i={},n=s.createContext(i);function r(e){const o=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(n.Provider,{value:o},e.children)}}}]);