"use strict";(self.webpackChunktypegoose_website=self.webpackChunktypegoose_website||[]).push([[1967],{1101:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>r});const n=JSON.parse('{"id":"api/functions/set-global-options","title":"setGlobalOptions","description":"Typings:","source":"@site/../docs/api/functions/setGlobalOptions.md","sourceDirName":"api/functions","slug":"/api/functions/set-global-options","permalink":"/typegoose/versions/12.x/docs/api/functions/set-global-options","draft":false,"unlisted":false,"editUrl":"https://github.com/typegoose/typegoose/edit/old/12.x/docs/../docs/api/functions/setGlobalOptions.md","tags":[],"version":"current","frontMatter":{"id":"set-global-options","title":"setGlobalOptions"},"sidebar":"docs","previous":{"title":"deleteModel*","permalink":"/typegoose/versions/12.x/docs/api/functions/delete-model"},"next":{"title":"getModelWithString","permalink":"/typegoose/versions/12.x/docs/api/functions/get-model-with-string"}}');var i=o(4848),t=o(8453);const l={id:"set-global-options",title:"setGlobalOptions"},d=void 0,c={},r=[{value:"Example",id:"example",level:2},{value:"Global Typegoose Options",id:"options",level:2},{value:"disableGlobalCaching",id:"disableglobalcaching",level:3}];function a(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Typings:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:"function setGlobalOptions(options: IGlobalOptions)\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Name"}),(0,i.jsx)(s.th,{style:{textAlign:"center"},children:"Type"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"options"})}),(0,i.jsx)(s.td,{style:{textAlign:"center"},children:(0,i.jsx)(s.code,{children:"IGlobalOptions"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:"The Options to apply globally"})]})})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"setGlobalOptions"})," is used to set ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/decorators/model-options#schemaoptions",children:(0,i.jsx)(s.code,{children:"schemaOptions"})})," and ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/decorators/model-options#options",children:(0,i.jsx)(s.code,{children:"options"})})," of ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/decorators/model-options#imodeloptions",children:(0,i.jsx)(s.code,{children:"IModelOptions"})})," globally (applied to all schemas created by ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/functions/build-schema",children:(0,i.jsx)(s.code,{children:"buildSchema"})}),") and also set some global operation options for typegoose with ",(0,i.jsx)(s.a,{href:"#options",children:(0,i.jsx)(s.code,{children:"globalOptions"})})," property."]}),"\n",(0,i.jsxs)(s.p,{children:["Only the specified options in ",(0,i.jsx)(s.code,{children:"options"})," are changed, if a subsequent call is made with different keys, it will not affect other keys, only the first 2 levels are merged."]}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"setGlobalOptions"})," call has to be before any ",(0,i.jsx)(s.code,{children:"buildSchema"})," (by extension also ",(0,i.jsx)(s.code,{children:"getModelForClass"}),") calls, which means when doing ",(0,i.jsx)(s.code,{children:"export const Model = buildSchema(class)"}),", the ",(0,i.jsx)(s.code,{children:"setGlobalOptions"})," call has to be before any of the imports that export schemas / models."]})}),"\n",(0,i.jsx)(s.h2,{id:"example",children:"Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:'setGlobalOptions({ options: { allowMixed: Severity.ERROR } });\nsetGlobalOptions({ globalOptions: { disableGlobalCaching: true } }); // does not affect the previous setting of "options"\nsetGlobalOptions({ globalOptions: { someOtherOption: true } }); // does not affect the previous setting of "globalOptions"\nsetGlobalOptions({ options: { disableLowerIndexes: true, allowMixed: Severity.WARN } }); // will overwrite previous setting of "allowMixed"\n\n// the global options would now look like\n{\n  options: {\n    allowMixed: Severity.WARN,\n    disableLowerIndexes: true\n  },\n  globalOptions: {\n    disableGlobalCaching: true,\n    someOtherOption: true\n  }\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"options",children:"Global Typegoose Options"}),"\n",(0,i.jsx)(s.h3,{id:"disableglobalcaching",children:"disableGlobalCaching"}),"\n",(0,i.jsxs)(s.p,{children:["Default: ",(0,i.jsx)(s.code,{children:"false"})]}),"\n",(0,i.jsxs)(s.p,{children:["Disables Caching Globally (cannot be overwritten by ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/decorators/model-options#disablecaching",children:(0,i.jsx)(s.code,{children:"disableCaching"})}),")."]}),"\n",(0,i.jsxs)(s.p,{children:["Setting this ",(0,i.jsx)(s.em,{children:"will not"})," clear the existing cache."]}),"\n",(0,i.jsxs)(s.p,{children:["If only locally disabled cache is needed, see ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/decorators/model-options",children:(0,i.jsx)(s.code,{children:"@modelOptions"})}),"'s ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/decorators/model-options#disablecaching",children:(0,i.jsx)(s.code,{children:"disableCaching"})})," which does ",(0,i.jsx)(s.em,{children:"not"})," have much of the following effects."]}),"\n",(0,i.jsx)(s.p,{children:"Effects:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/functions/delete-model#deletemodel",children:(0,i.jsx)(s.code,{children:"deleteModel"})})," & ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/functions/delete-model#deletemodelwithclass",children:(0,i.jsx)(s.code,{children:"deleteModelWithClass"})})," will throw ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/guides/error-warning-details#cache-disabled-e033",children:(0,i.jsx)(s.code,{children:"E033"})})," when used"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/functions/get-class",children:(0,i.jsx)(s.code,{children:"getClass"})})," will throw ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/guides/error-warning-details#cache-disabled-e033",children:(0,i.jsx)(s.code,{children:"E033"})})," when used"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/functions/get-model-with-string",children:(0,i.jsx)(s.code,{children:"getModelWithString"})})," will throw ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/guides/error-warning-details#cache-disabled-e033",children:(0,i.jsx)(s.code,{children:"E033"})})," when used"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/functions/build-schema",children:(0,i.jsx)(s.code,{children:"buildSchema"})})," will not add anything to the ",(0,i.jsx)(s.code,{children:"constructors"})," cache"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/functions/add-model-to-typegoose",children:(0,i.jsx)(s.code,{children:"addModelToTypegoose"})})," will not add anything to ",(0,i.jsx)(s.code,{children:"constructors"})," and ",(0,i.jsx)(s.code,{children:"models"})," cache (but will still check if the class and model are valid)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/functions/get-model-for-class",children:(0,i.jsx)(s.code,{children:"getModelForClass"})})," & ",(0,i.jsx)(s.a,{href:"/typegoose/versions/12.x/docs/api/functions/get-discriminator-model-for-class",children:(0,i.jsx)(s.code,{children:"getDiscriminatorModelForClass"})})," will not try to get anything from cache"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,s,o)=>{o.d(s,{R:()=>l,x:()=>d});var n=o(6540);const i={},t=n.createContext(i);function l(e){const s=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);