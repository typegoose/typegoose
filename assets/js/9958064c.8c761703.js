"use strict";(self.webpackChunktypegoose_website=self.webpackChunktypegoose_website||[]).push([[1967],{1101(e,o,s){s.r(o),s.d(o,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"api/functions/set-global-options","title":"setGlobalOptions","description":"Typings:","source":"@site/../docs/api/functions/setGlobalOptions.md","sourceDirName":"api/functions","slug":"/api/functions/set-global-options","permalink":"/typegoose/docs/api/functions/set-global-options","draft":false,"unlisted":false,"editUrl":"https://github.com/typegoose/typegoose/edit/master/docs/../docs/api/functions/setGlobalOptions.md","tags":[],"version":"current","frontMatter":{"id":"set-global-options","title":"setGlobalOptions"},"sidebar":"docs","previous":{"title":"deleteModel*","permalink":"/typegoose/docs/api/functions/delete-model"},"next":{"title":"getModelWithString","permalink":"/typegoose/docs/api/functions/get-model-with-string"}}');var n=s(4848),l=s(8453);const i={id:"set-global-options",title:"setGlobalOptions"},d=void 0,c={},a=[{value:"Example",id:"example",level:2},{value:"Global Typegoose Options",id:"options",level:2},{value:"disableGlobalCaching",id:"disableglobalcaching",level:3}];function r(e){const o={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Typings:"})}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-ts",children:"function setGlobalOptions(options: IGlobalOptions)\n"})}),"\n",(0,n.jsx)(o.p,{children:(0,n.jsx)(o.strong,{children:"Parameters:"})}),"\n",(0,n.jsxs)(o.table,{children:[(0,n.jsx)(o.thead,{children:(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.th,{style:{textAlign:"left"},children:"Name"}),(0,n.jsx)(o.th,{style:{textAlign:"center"},children:"Type"}),(0,n.jsx)(o.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsx)(o.tbody,{children:(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{style:{textAlign:"left"},children:(0,n.jsx)(o.code,{children:"options"})}),(0,n.jsx)(o.td,{style:{textAlign:"center"},children:(0,n.jsx)(o.code,{children:"IGlobalOptions"})}),(0,n.jsx)(o.td,{style:{textAlign:"left"},children:"The Options to apply globally"})]})})]}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.code,{children:"setGlobalOptions"})," is used to set ",(0,n.jsx)(o.a,{href:"/typegoose/docs/api/decorators/model-options#schemaoptions",children:(0,n.jsx)(o.code,{children:"schemaOptions"})})," and ",(0,n.jsx)(o.a,{href:"/typegoose/docs/api/decorators/model-options#options",children:(0,n.jsx)(o.code,{children:"options"})})," of ",(0,n.jsx)(o.a,{href:"/typegoose/docs/api/decorators/model-options#imodeloptions",children:(0,n.jsx)(o.code,{children:"IModelOptions"})})," globally (applied to all schemas created by ",(0,n.jsx)(o.a,{href:"/typegoose/docs/api/functions/build-schema",children:(0,n.jsx)(o.code,{children:"buildSchema"})}),") and also set some global operation options for typegoose with ",(0,n.jsx)(o.a,{href:"#options",children:(0,n.jsx)(o.code,{children:"globalOptions"})})," property."]}),"\n",(0,n.jsxs)(o.p,{children:["Only the specified options in ",(0,n.jsx)(o.code,{children:"options"})," are changed, if a subsequent call is made with different keys, it will not affect other keys, only the first 2 levels are merged."]}),"\n",(0,n.jsx)(o.admonition,{type:"warning",children:(0,n.jsxs)(o.p,{children:["The ",(0,n.jsx)(o.code,{children:"setGlobalOptions"})," call has to be before any ",(0,n.jsx)(o.code,{children:"buildSchema"})," (by extension also ",(0,n.jsx)(o.code,{children:"getModelForClass"}),") calls, which means when doing ",(0,n.jsx)(o.code,{children:"export const Model = buildSchema(class)"}),", the ",(0,n.jsx)(o.code,{children:"setGlobalOptions"})," call has to be before any of the imports that export schemas / models."]})}),"\n",(0,n.jsx)(o.h2,{id:"example",children:"Example"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-ts",children:'setGlobalOptions({ options: { allowMixed: Severity.ERROR } });\nsetGlobalOptions({ globalOptions: { disableGlobalCaching: true } }); // does not affect the previous setting of "options"\nsetGlobalOptions({ globalOptions: { someOtherOption: true } }); // does not affect the previous setting of "globalOptions"\nsetGlobalOptions({ options: { disableLowerIndexes: true, allowMixed: Severity.WARN } }); // will overwrite previous setting of "allowMixed"\n\n// the global options would now look like\n{\n  options: {\n    allowMixed: Severity.WARN,\n    disableLowerIndexes: true\n  },\n  globalOptions: {\n    disableGlobalCaching: true,\n    someOtherOption: true\n  }\n}\n'})}),"\n",(0,n.jsx)(o.h2,{id:"options",children:"Global Typegoose Options"}),"\n",(0,n.jsx)(o.h3,{id:"disableglobalcaching",children:"disableGlobalCaching"}),"\n",(0,n.jsxs)(o.p,{children:["Default: ",(0,n.jsx)(o.code,{children:"false"})]}),"\n",(0,n.jsxs)(o.p,{children:["Disables Caching Globally (cannot be overwritten by ",(0,n.jsx)(o.a,{href:"/typegoose/docs/api/decorators/model-options#disablecaching",children:(0,n.jsx)(o.code,{children:"disableCaching"})}),")."]}),"\n",(0,n.jsxs)(o.p,{children:["Setting this ",(0,n.jsx)(o.em,{children:"will not"})," clear the existing cache."]}),"\n",(0,n.jsxs)(o.p,{children:["If only locally disabled cache is needed, see ",(0,n.jsx)(o.a,{href:"/typegoose/docs/api/decorators/model-options",children:(0,n.jsx)(o.code,{children:"@modelOptions"})}),"'s ",(0,n.jsx)(o.a,{href:"/typegoose/docs/api/decorators/model-options#disablecaching",children:(0,n.jsx)(o.code,{children:"disableCaching"})})," which does ",(0,n.jsx)(o.em,{children:"not"})," have much of the following effects."]}),"\n",(0,n.jsx)(o.p,{children:"Effects:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.a,{href:"/typegoose/docs/api/functions/delete-model#deletemodel",children:(0,n.jsx)(o.code,{children:"deleteModel"})})," & ",(0,n.jsx)(o.a,{href:"/typegoose/docs/api/functions/delete-model#deletemodelwithclass",children:(0,n.jsx)(o.code,{children:"deleteModelWithClass"})})," will throw ",(0,n.jsx)(o.a,{href:"/typegoose/docs/guides/error-warning-details#cache-disabled-e033",children:(0,n.jsx)(o.code,{children:"E033"})})," when used"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.a,{href:"/typegoose/docs/api/functions/get-class",children:(0,n.jsx)(o.code,{children:"getClass"})})," will throw ",(0,n.jsx)(o.a,{href:"/typegoose/docs/guides/error-warning-details#cache-disabled-e033",children:(0,n.jsx)(o.code,{children:"E033"})})," when used"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.a,{href:"/typegoose/docs/api/functions/get-model-with-string",children:(0,n.jsx)(o.code,{children:"getModelWithString"})})," will throw ",(0,n.jsx)(o.a,{href:"/typegoose/docs/guides/error-warning-details#cache-disabled-e033",children:(0,n.jsx)(o.code,{children:"E033"})})," when used"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.a,{href:"/typegoose/docs/api/functions/build-schema",children:(0,n.jsx)(o.code,{children:"buildSchema"})})," will not add anything to the ",(0,n.jsx)(o.code,{children:"constructors"})," cache"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.a,{href:"/typegoose/docs/api/functions/add-model-to-typegoose",children:(0,n.jsx)(o.code,{children:"addModelToTypegoose"})})," will not add anything to ",(0,n.jsx)(o.code,{children:"constructors"})," and ",(0,n.jsx)(o.code,{children:"models"})," cache (but will still check if the class and model are valid)"]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.a,{href:"/typegoose/docs/api/functions/get-model-for-class",children:(0,n.jsx)(o.code,{children:"getModelForClass"})})," & ",(0,n.jsx)(o.a,{href:"/typegoose/docs/api/functions/get-discriminator-model-for-class",children:(0,n.jsx)(o.code,{children:"getDiscriminatorModelForClass"})})," will not try to get anything from cache"]}),"\n"]})]})}function h(e={}){const{wrapper:o}={...(0,l.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(r,{...e})}):r(e)}},8453(e,o,s){s.d(o,{R:()=>i,x:()=>d});var t=s(6540);const n={},l=t.createContext(n);function i(e){const o=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(l.Provider,{value:o},e.children)}}}]);