"use strict";(self.webpackChunktypegoose_website=self.webpackChunktypegoose_website||[]).push([[418],{5757(e,o,r){r.r(o),r.d(o,{assets:()=>a,contentTitle:()=>d,default:()=>g,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"guides/migration/migrate-9","title":"Migrate to 9.0.0","description":"These are the changes made for 9.0.0 that are breaking or just important to know","source":"@site/../docs/guides/migration/migrate-9.md","sourceDirName":"guides/migration","slug":"/guides/migration/migrate-9","permalink":"/typegoose/docs/guides/migration/migrate-9","draft":false,"unlisted":false,"editUrl":"https://github.com/typegoose/typegoose/edit/master/docs/../docs/guides/migration/migrate-9.md","tags":[],"version":"current","frontMatter":{"id":"migrate-9","title":"Migrate to 9.0.0"},"sidebar":"guides","previous":{"title":"Migrate to 10.0.0","permalink":"/typegoose/docs/guides/migration/migrate-10"},"next":{"title":"Migrate to 8.0.0","permalink":"/typegoose/docs/guides/migration/migrate-8"}}');var s=r(4848),n=r(8453);const i={id:"migrate-9",title:"Migrate to 9.0.0"},d=void 0,a={},c=[{value:"Requirements changed",id:"requirements-changed",level:2},{value:"Mongoose 6.0 is now supported",id:"mongoose-60-is-now-supported",level:2},{value:"Class-transformer transform of &quot;ObjectId&quot; became broken",id:"class-transformer-transform-of-objectid-became-broken",level:2},{value:"Build order for Class-to-Schema changed",id:"build-order-for-class-to-schema-changed",level:2},{value:"Error &quot;E007&quot; got removed",id:"error-e007-got-removed",level:2},{value:"Error &quot;E023&quot; got merged into &quot;E013&quot;",id:"error-e023-got-merged-into-e013",level:2},{value:"Errors &quot;E008&quot; &amp; &quot;E015&quot; &amp; &quot;E022&quot; got merged into &quot;E026&quot;",id:"errors-e008--e015--e022-got-merged-into-e026",level:2}];function l(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.p,{children:"These are the changes made for 9.0.0 that are breaking or just important to know"}),"\n",(0,s.jsx)(o.admonition,{title:"Important, Read this first",type:"warning",children:(0,s.jsxs)(o.p,{children:["This Guide is written for migration from version ",(0,s.jsx)(o.code,{children:"8.3.0"})," to ",(0,s.jsx)(o.code,{children:"9.0.0"}),", for versions ",(0,s.jsx)(o.code,{children:">9.0.0 <10.0.0"}),", please consult the ",(0,s.jsx)(o.a,{href:"https://github.com/typegoose/typegoose/blob/master/CHANGELOG.md",children:"CHANGELOG"})]})}),"\n",(0,s.jsx)(o.h2,{id:"requirements-changed",children:"Requirements changed"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Mongoose ",(0,s.jsx)(o.code,{children:"6.0.7"})," or ",(0,s.jsx)(o.a,{href:"#mongoose-60-is-now-supported",children:"higher is now required"})]}),"\n",(0,s.jsxs)(o.li,{children:["Typescript ",(0,s.jsx)(o.code,{children:"4.4"})," is now suggested to be used"]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"mongoose-60-is-now-supported",children:"Mongoose 6.0 is now supported"}),"\n",(0,s.jsxs)(o.p,{children:["Mongoose version ",(0,s.jsx)(o.code,{children:"6.0.7"})," (and possibly higher) is now supported, for mongoose specific migration, look at the ",(0,s.jsx)(o.a,{href:"https://mongoosejs.com/docs/migrating_to_6.html",children:"6.0 migration guide"})]}),"\n",(0,s.jsx)(o.h2,{id:"class-transformer-transform-of-objectid-became-broken",children:'Class-transformer transform of "ObjectId" became broken'}),"\n",(0,s.jsxs)(o.p,{children:["Since mongodb 5.0 (mongoose 6.0) the ",(0,s.jsx)(o.code,{children:"value"})," in ",(0,s.jsx)(o.code,{children:"@Transform"})," is not equals to ",(0,s.jsx)(o.code,{children:"obj[key]"})," anymore, see ",(0,s.jsx)(o.a,{href:"/typegoose/docs/guides/integration-examples/using-with-class-transformer#implementation",children:"the updated Class-Transformer Guide"})," and ",(0,s.jsx)(o.a,{href:"https://github.com/typestack/class-transformer/issues/879",children:"the Issue about this"})]}),"\n",(0,s.jsx)(o.h2,{id:"build-order-for-class-to-schema-changed",children:"Build order for Class-to-Schema changed"}),"\n",(0,s.jsxs)(o.p,{children:["The build order for Class-to-Schema (",(0,s.jsx)(o.code,{children:"buildSchema"}),') changed from "top-down" to "bottom-up"']}),"\n",(0,s.jsx)(o.h2,{id:"error-e007-got-removed",children:'Error "E007" got removed'}),"\n",(0,s.jsxs)(o.p,{children:["The Error ",(0,s.jsx)(o.a,{href:"/typegoose/docs/guides/error-warning-details#get--set-options-e007",children:(0,s.jsx)(o.code,{children:"E007"})})," got removed, because ",(0,s.jsx)(o.code,{children:"get"})," and ",(0,s.jsx)(o.code,{children:"set"})," options can be defined independently of eachother."]}),"\n",(0,s.jsx)(o.h2,{id:"error-e023-got-merged-into-e013",children:'Error "E023" got merged into "E013"'}),"\n",(0,s.jsxs)(o.p,{children:["The Error ",(0,s.jsx)(o.a,{href:"/typegoose/docs/guides/error-warning-details#ref-is-not-supported-for-propkind-name-key-e023",children:(0,s.jsx)(o.code,{children:"E023"})})," got merged into ",(0,s.jsx)(o.a,{href:"/typegoose/docs/guides/error-warning-details#invalid-proptype-used-e013",children:(0,s.jsx)(o.code,{children:"E013"})}),"."]}),"\n",(0,s.jsx)(o.h2,{id:"errors-e008--e015--e022-got-merged-into-e026",children:'Errors "E008" & "E015" & "E022" got merged into "E026"'}),"\n",(0,s.jsxs)(o.p,{children:["The Errors ",(0,s.jsx)(o.a,{href:"/typegoose/docs/guides/error-warning-details#refpath-must-be-of-type-string-e008",children:(0,s.jsx)(o.code,{children:"E008"})})," & ",(0,s.jsx)(o.a,{href:"/typegoose/docs/guides/error-warning-details#customname-must-be-string-and-at-least-one-character-e015",children:(0,s.jsx)(o.code,{children:"E015"})})," & ",(0,s.jsx)(o.a,{href:"/typegoose/docs/guides/error-warning-details#return-type-of-function-assigned-to-customname-doesnt-return-a-string-or-is-empty-e022",children:(0,s.jsx)(o.code,{children:"E022"})})," got merged into a new Error, ",(0,s.jsx)(o.a,{href:"/typegoose/docs/guides/error-warning-details#expected-string-to-have-length-e026",children:(0,s.jsx)(o.code,{children:"E026"})}),"."]})]})}function g(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453(e,o,r){r.d(o,{R:()=>i,x:()=>d});var t=r(6540);const s={},n=t.createContext(s);function i(e){const o=t.useContext(n);return t.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(n.Provider,{value:o},e.children)}}}]);